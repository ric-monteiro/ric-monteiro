# .github/workflows/metrics.yml
name: GitHub Metrics

on:
  # This will run the action every 6 hours
  schedule:
    - cron: "0 */6 * * *"
  # This allows you to run the workflow manually from the Actions tab
  workflow_dispatch:
  # This runs the action on every push to the main branch
  push:
    branches:
      - "main"
      - "master"

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write # This is required to write the new metrics file to the repo
    steps:
      - uses: lowlighter/metrics@v3.34
        with:
          # Your GitHub token
          # This is automatically generated by Actions, no need to touch this
          token: ${{ secrets.GITHUB_TOKEN }}

          # === Required Options ===
          # The GitHub username to gather stats for
          user: ric-monteiro # <-- IMPORTANT: Replace with your username!
        
          # === Plugin: Contributions Calendar ===
          # This enables the isometric contributions calendar you wanted
          plugin_isocalendar: yes
          plugin_isocalendar_duration: half-year # You can change this to "full-year"
